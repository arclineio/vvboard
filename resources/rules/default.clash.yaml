mode: rule
ipv6: true
allow-lan: true
bind-address: "*"
mixed-port: 7890
log-level: error
unified-delay: true
tcp-concurrent: true
external-controller: 0.0.0.0:9090

tun:
  enable: true
  stack: system
  auto-route: true

dns:
  enable: true
  cache-algorithm: arc
  listen: 0.0.0.0:1053
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - "lens.l.google.com"
    - "*.srv.nintendo.net"
    - "*.stun.playstation.net"
    - "xbox.*.*.microsoft.com"
    - "*.xboxlive.com"
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
  default-nameserver:
    - 119.29.29.29
    - 223.5.5.5
  nameserver:
    - system
    - 119.29.29.29
    - 223.5.5.5
  fallback:
    - 8.8.8.8
    - 1.1.1.1
  fallback-filter:
    geoip: true
    geoip-code: CN

proxies:

proxy-groups:
  - name: ğŸš€ Proxy
    type: select
    proxies: [ğŸŒ Auto, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ Apple
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ” Google
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸªŸ Microsoft
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ“º ChinaMedia
    type: select
    proxies: [ğŸ¯ Direct, ğŸš€ Proxy]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ“½ï¸ GlobalMedia
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ¤– AI
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸª™ Crypto
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ® Game
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ“Ÿ Telegram
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸ  Final
    type: select
    proxies: [ğŸš€ Proxy, ğŸ¯ Direct]
    url: https://www.gstatic.com/generate_204
    timeout: 5000

  - name: ğŸŒ Auto
    type: url-test
    proxies: []
    url: https://www.gstatic.com/generate_204
    interval: 600
    timeout: 5000

  - name: ğŸ¯ Direct
    type: select
    proxies: [DIRECT, /""/]
    hidden: true

rule-providers:
  Apple:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple_Classical_No_Resolve.yaml,
      path: "./RuleProviders/Apple.yaml",
    }
  Google:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google_No_Resolve.yaml,
      path: "./RuleProviders/Google.yaml",
    }
  Microsoft:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.yaml,
      path: "./RuleProviders/Microsoft.yaml",
    }
  GitHub:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.yaml,
      path: "./RuleProviders/GitHub.yaml",
    }
  ChinaMedia:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/ChinaMedia/ChinaMedia_No_Resolve.yaml,
      path: "./RuleProviders/ChinaMedia.yaml",
    }
  HBO:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/HBO/HBO.yaml,
      path: "./RuleProviders/HBO.yaml",
    }
  Disney:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Disney/Disney.yaml,
      path: "./RuleProviders/Disney.yaml",
    }
  TikTok:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/TikTok/TikTok.yaml,
      path: "./RuleProviders/TikTok.yaml",
    }
  Netflix:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Netflix/Netflix_Classical_No_Resolve.yaml,
      path: "./RuleProviders/Netflix.yaml",
    }
  GlobalMedia:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GlobalMedia/GlobalMedia_Classical_No_Resolve.yaml,
      path: "./RuleProviders/GlobalMedia.yaml",
    }
  OpenAI:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI_No_Resolve.yaml,
      path: "./RuleProviders/OpenAI.yaml",
    }
  Gemini:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Gemini/Gemini_No_Resolve.yaml,
      path: "./RuleProviders/Gemini.yaml",
    }
  Copilot:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Copilot/Copilot_No_Resolve.yaml,
      path: "./RuleProviders/Copilot.yaml",
    }
  Claude:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Claude/Claude_No_Resolve.yaml,
      path: "./RuleProviders/Claude.yaml",
    }
  Crypto:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Crypto/Crypto.yaml,
      path: "./RuleProviders/Crypto.yaml",
    }
  Cryptocurrency:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Cryptocurrency/Cryptocurrency.yaml,
      path: "./RuleProviders/Cryptocurrency.yaml",
    }
  Game:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Game/Game_No_Resolve.yaml,
      path: "./RuleProviders/Game.yaml",
    }
  Telegram:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Telegram/Telegram_No_Resolve.yaml,
      path: "./RuleProviders/Telegram.yaml",
    }
  Global:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Global/Global_Classical_No_Resolve.yaml,
      path: "./RuleProviders/Global.yaml",
    }
  Lan:
    {
      type: http,
      behavior: classical,
      format: yaml,
      interval: 86400,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Lan/Lan_No_Resolve.yaml,
      path: "./RuleProviders/Lan.yaml",
    }

rules:
  - RULE-SET, Apple, ğŸ Apple
  - RULE-SET, Google, ğŸ” Google
  - RULE-SET, Microsoft, ğŸªŸ Microsoft
  - RULE-SET, GitHub, ğŸªŸ Microsoft
  - RULE-SET, ChinaMedia, ğŸ“º ChinaMedia
  - RULE-SET, HBO, ğŸ“½ï¸ GlobalMedia
  - RULE-SET, Disney, ğŸ“½ï¸ GlobalMedia
  - RULE-SET, TikTok, ğŸ“½ï¸ GlobalMedia
  - RULE-SET, Netflix, ğŸ“½ï¸ GlobalMedia
  - RULE-SET, GlobalMedia, ğŸ“½ï¸ GlobalMedia
  - RULE-SET, OpenAI, ğŸ¤– AI
  - RULE-SET, Gemini, ğŸ¤– AI
  - RULE-SET, Copilot, ğŸ¤– AI
  - RULE-SET, Claude, ğŸ¤– AI
  - RULE-SET, Crypto ,ğŸª™ Crypto
  - RULE-SET, Cryptocurrency ,ğŸª™ Crypto
  - RULE-SET, Game, ğŸ® Game
  - RULE-SET, Telegram, ğŸ“Ÿ Telegram
  - RULE-SET, Global, ğŸš€ Proxy
  - RULE-SET, Lan, ğŸ¯ Direct
  - GEOIP, CN, ğŸ¯ Direct
  - MATCH, ğŸ  Final
